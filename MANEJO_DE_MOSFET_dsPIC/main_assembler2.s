
    ;INCLUIR  UN ARCHIVO DE CABECERA
    .include "p33fj32gp202.inc"
    .global _main
    

_main:
    BSET AD1PCFGL,#0x4
    BCLR TRISB,#0x2
    BSET TRISB,#0xA
    BSET TRISB,#0xB
_bucle:
    PRIMER_PULSADOR:
    ;LECUTA DEL PRIMER PULSADOR
    BTSC PORTB,#0xA
    GOTO SEGUNDO_PULSADOR
    CALL DELAY50MS
    WHILE1:
    BTSC PORTB,#0xA
    GOTO ENCENDER
    GOTO WHILE1
    SEGUNDO_PULSADOR:
    BTSC PORTB,#0xB
    GOTO FIN_BUCLE
    CALL DELAY50MS
    WHILE2:
    BTSC PORTB,#0xB
    GOTO APAGAR
    GOTO WHILE2
    ;LECTURA DEL SEGUNDO PULSADOR
    
    FIN_BUCLE: 
    goto _bucle
    
ENCENDER:
    BSET LATB,#0x2
   GOTO FIN_BUCLE    
APAGAR:
    BCLR LATB,#0x2
    GOTO FIN_BUCLE
    
DELAY50MS:
    MOV #50,W0
DELAY:
    DEC W0,W1
    MOV W1,W0
    BRA Z,RETORNAR
    REPEAT,#5000
    NOP
RETORNAR:
    RETURN
    
.END
    


